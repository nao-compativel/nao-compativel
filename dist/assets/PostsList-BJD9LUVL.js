import{r as p,j as s}from"./index-P8xp8n2N.js";import{B as b,C as f}from"./Badge-CKWCNDYD.js";import{S as k,D as T}from"./PostsList-BAQJOuYB.js";const x=5;function y(n){if(!n)return"";try{const[i,l,d]=n.split("-");return`${d}/${l}/${i}`}catch{return""}}const R=({posts:n,onSelectPost:i,onSelectTag:l,onSelectCategory:d,searchQuery:N,setSearchQuery:v,filterQuery:a,readPosts:P})=>{const[t,j]=p.useState(1),u=p.useMemo(()=>(j(1),n.filter(e=>e.title.toLowerCase().includes(a.toLowerCase())||e.content.toLowerCase().includes(a.toLowerCase())||e.category.toLowerCase().includes(a.toLowerCase())||e.tags.some(r=>r.toLowerCase().includes(a.toLowerCase())))),[n,a]),c=Math.ceil(u.length/x),C=(t-1)*x,L=C+x,g=u.slice(C,L),h=e=>{e>=1&&e<=c&&(j(e),window.scrollTo(0,0))};return s.jsx("div",{className:"animate-fadeIn",children:s.jsxs("div",{children:[s.jsxs("div",{className:"postsHeader",children:[s.jsxs("h2",{children:[s.jsx("span",{children:"./"}),"Artigos & Pesquisa"]}),s.jsxs("div",{className:"searchBox",children:[s.jsx(k,{className:"searchIcon",size:20}),s.jsx("input",{type:"text",placeholder:"Pesquisar por tecnologia...",value:N,onChange:e=>v(e.target.value),className:"searchInput"})]})]}),s.jsx("div",{className:"postsGrid",children:g.length>0?g.map((e,r)=>{const m=P[e.slug];return s.jsxs("article",{onClick:()=>i(e),className:`postCard ${m?"isRead":""} animate-in`,style:{animationDelay:`${r*100}ms`},children:[s.jsx("div",{className:"postCardGlow"}),s.jsxs("div",{className:"postCardHeader",children:[s.jsx("button",{onClick:o=>{o.stopPropagation(),d(e.category)},className:"categoryBadgeButton",children:s.jsx(b,{children:e.category.toUpperCase()})}),s.jsxs("div",{className:"postCardMeta",children:[s.jsxs("span",{children:[e.date," • ",e.readTime]}),m&&s.jsxs("span",{className:"readIndicator",children:["(Lido em ",y(m),")"]})]})]}),s.jsx("h3",{className:"postCardTitle",children:e.title}),s.jsxs("p",{className:"postCardSnippet",children:[e.content.replace(/[#`*]/g,"").substring(0,150),"..."]}),s.jsx("div",{className:"postCardTags",children:e.tags.map(o=>s.jsxs("button",{onClick:w=>{w.stopPropagation(),l(o)},className:"tagButton",children:["#",o]},o))}),s.jsxs("div",{className:"readMoreLink",children:["Ler artigo ",s.jsx(f,{size:16})]})]},e.id)}):s.jsxs("div",{className:"notFound",children:[s.jsx(T,{size:32}),s.jsxs("p",{children:['Nenhum resultado encontrado para "',a,'".']})]})}),c>1&&s.jsxs("div",{className:"pagination",children:[s.jsx("button",{onClick:()=>h(t-1),disabled:t===1,children:"« Anterior"}),Array.from({length:c},(e,r)=>r+1).map(e=>s.jsx("button",{onClick:()=>h(e),className:t===e?"active":"",children:e},e)),s.jsx("button",{onClick:()=>h(t+1),disabled:t===c,children:"Próximo »"})]})]})})};export{R as default};
