import{a as u,u as j,R as p,r as m,j as e,L as g}from"./index-rwktm2qN.js";import{B as f,C}from"./Badge-CqOosQkG.js";import{S as N,D as v}from"./PostsList-CVBm24uO.js";import{C as L}from"./TagResultsList-Bk55Jhpe.js";function b(r){if(!r)return"";const[o,a,l]=r.split("-");return`${l}/${a}/${o}`}const k=({posts:r,readPosts:o})=>{const{tag:a}=u(),l=j(),[n,h]=p.useState(""),d=m.useMemo(()=>r.filter(s=>s.tags.includes(a)),[r,a]),i=m.useMemo(()=>d.filter(s=>s.title.toLowerCase().includes(n.toLowerCase())||s.content.toLowerCase().includes(n.toLowerCase())),[d,n]);return e.jsxs("div",{className:"animate-fadeIn",children:[e.jsxs("div",{className:"tagHeader",children:[e.jsxs("button",{onClick:()=>l("/"),className:"tagHeaderButton",children:[e.jsx(L,{size:16}),"Voltar para todos os posts"]}),e.jsxs("h2",{children:[e.jsx("span",{children:"#"}),a]}),e.jsxs("p",{children:["Exibindo ",i.length," ",i.length===1?"artigo":"artigos"]}),e.jsxs("div",{className:"searchBox",children:[e.jsx(N,{className:"searchIcon",size:20}),e.jsx("input",{type:"text",placeholder:"Filtrar dentro da tag...",value:n,onChange:s=>h(s.target.value),className:"searchInput"})]})]}),e.jsx("div",{className:"postsGrid",children:i.length>0?i.map((s,x)=>{const c=o[s.slug];return e.jsxs(g,{to:`/post/${s.slug}`,className:`postCard ${c?"isRead":""} animate-in`,style:{animationDelay:`${x*100}ms`,textDecoration:"none",display:"block"},children:[e.jsx("div",{className:"postCardGlow"}),e.jsxs("div",{className:"postCardHeader",children:[e.jsx(f,{children:s.category.toUpperCase()}),e.jsxs("div",{className:"postCardMeta",children:[e.jsxs("span",{children:[s.date," â€¢ ",s.readTime]}),c&&e.jsxs("span",{className:"readIndicator",children:["(Lido em ",b(c),")"]})]})]}),e.jsx("h3",{className:"postCardTitle",children:s.title}),e.jsxs("p",{className:"postCardSnippet",children:[s.content.replace(/[#`*!\[\]\(\)]/g,"").substring(0,150),"..."]}),e.jsx("div",{className:"postCardTags",children:s.tags.map(t=>e.jsxs("span",{className:"tagButton",style:{borderColor:t===a?"#a855f7":"#1e293b",color:t===a?"#ffffff":"#64748b",backgroundColor:t===a?"#1e293b":"transparent"},children:["#",t]},t))}),e.jsxs("div",{className:"readMoreLink",children:["Ler artigo ",e.jsx(C,{size:16})]})]},s.id)}):e.jsxs("div",{className:"notFound",children:[e.jsx(v,{size:32}),e.jsx("p",{children:"Nenhum resultado encontrado."})]})})]})};export{k as default};
