import{r as m,u as L,j as s,L as P}from"./index-_Cx3OQFR.js";import{B as w,C as b}from"./Badge-dTQdFpBr.js";import{S as k,D}from"./PostsList-D0eIiw0W.js";const u=5;function T(n){if(!n)return"";try{const[i,t,c]=n.split("-");return`${c}/${t}/${i}`}catch{return""}}const I=({posts:n,readPosts:i})=>{const[t,c]=m.useState(1),[r,p]=m.useState(""),x=L(),j=m.useMemo(()=>(c(1),n.filter(e=>e.title.toLowerCase().includes(r.toLowerCase())||e.content.toLowerCase().includes(r.toLowerCase())||e.category.toLowerCase().includes(r.toLowerCase())||e.tags.some(a=>a.toLowerCase().includes(r.toLowerCase())))),[n,r]),l=Math.ceil(j.length/u),g=(t-1)*u,N=g+u,C=j.slice(g,N),d=e=>{e>=1&&e<=l&&(c(e),window.scrollTo(0,0))},v=(e,a)=>{e.preventDefault(),e.stopPropagation(),x(`/category/${a}`)},y=(e,a)=>{e.preventDefault(),e.stopPropagation(),x(`/tag/${a}`)};return s.jsx("div",{className:"animate-fadeIn",children:s.jsxs("div",{children:[s.jsxs("div",{className:"postsHeader",children:[s.jsxs("h2",{children:[s.jsx("span",{children:"./"}),"Artigos & Pesquisa"]}),s.jsxs("div",{className:"searchBox",children:[s.jsx(k,{className:"searchIcon",size:20}),s.jsx("input",{type:"text",placeholder:"Pesquisar por tecnologia...",value:r,onChange:e=>p(e.target.value),className:"searchInput"})]})]}),s.jsx("div",{className:"postsGrid",children:C.length>0?C.map((e,a)=>{const h=i[e.slug];return s.jsxs(P,{to:`/post/${e.slug}`,className:`postCard ${h?"isRead":""} animate-in`,style:{animationDelay:`${a*100}ms`,textDecoration:"none",display:"block"},children:[s.jsx("div",{className:"postCardGlow"}),s.jsxs("div",{className:"postCardHeader",children:[s.jsx("button",{onClick:o=>v(o,e.category),className:"categoryBadgeButton",children:s.jsx(w,{children:e.category.toUpperCase()})}),s.jsxs("div",{className:"postCardMeta",children:[s.jsxs("span",{children:[e.date," • ",e.readTime]}),h&&s.jsxs("span",{className:"readIndicator",children:["(Lido em ",T(h),")"]})]})]}),s.jsx("h3",{className:"postCardTitle",children:e.title}),s.jsxs("p",{className:"postCardSnippet",children:[e.content.replace(/[#`*!\[\]\(\)]/g,"").substring(0,150),"..."]}),s.jsx("div",{className:"postCardTags",children:e.tags.map(o=>s.jsxs("button",{onClick:f=>y(f,o),className:"tagButton",children:["#",o]},o))}),s.jsxs("div",{className:"readMoreLink",children:["Ler artigo ",s.jsx(b,{size:16})]})]},e.id)}):s.jsxs("div",{className:"notFound",children:[s.jsx(D,{size:32}),s.jsxs("p",{children:['Nenhum resultado encontrado para "',r,'".']})]})}),l>1&&s.jsxs("div",{className:"pagination",children:[s.jsx("button",{onClick:()=>d(t-1),disabled:t===1,children:"« Anterior"}),Array.from({length:l},(e,a)=>a+1).map(e=>s.jsx("button",{onClick:()=>d(e),className:t===e?"active":"",children:e},e)),s.jsx("button",{onClick:()=>d(t+1),disabled:t===l,children:"Próximo »"})]})]})})};export{I as default};
