import{a as u,u as j,R as p,r as m,j as e,L as g}from"./index-DCHFfLAB.js";import{B as C,C as N}from"./Badge-CAQ3G40p.js";import{S as v,D as y}from"./PostsList-BqE8ssiP.js";import{C as f}from"./TagResultsList-FHGQnazh.js";function L(a){if(!a)return"";const[i,t,o]=a.split("-");return`${o}/${t}/${i}`}const w=({posts:a,readPosts:i})=>{const{category:t}=u(),o=j(),[r,h]=p.useState(""),l=m.useMemo(()=>a.filter(s=>s.category===t),[a,t]),n=m.useMemo(()=>l.filter(s=>s.title.toLowerCase().includes(r.toLowerCase())||s.content.toLowerCase().includes(r.toLowerCase())),[l,r]);return e.jsxs("div",{className:"animate-fadeIn",children:[e.jsxs("div",{className:"tagHeader",children:[e.jsxs("button",{onClick:()=>o("/"),className:"tagHeaderButton",children:[e.jsx(f,{size:16}),"Voltar para todos os posts"]}),e.jsxs("h2",{children:[e.jsx("span",{children:"./"}),t]}),e.jsxs("p",{children:["Exibindo ",n.length," ",n.length===1?"artigo":"artigos"]}),e.jsxs("div",{className:"searchBox",children:[e.jsx(v,{className:"searchIcon",size:20}),e.jsx("input",{type:"text",placeholder:"Filtrar dentro da categoria...",value:r,onChange:s=>h(s.target.value),className:"searchInput"})]})]}),e.jsx("div",{className:"postsGrid",children:n.length>0?n.map((s,x)=>{const c=i[s.slug];return e.jsxs(g,{to:`/post/${s.slug}`,className:`postCard ${c?"isRead":""} animate-in`,style:{animationDelay:`${x*100}ms`,textDecoration:"none",display:"block"},children:[e.jsx("div",{className:"postCardGlow"}),e.jsxs("div",{className:"postCardHeader",children:[e.jsx(C,{children:s.category.toUpperCase()}),e.jsxs("div",{className:"postCardMeta",children:[e.jsxs("span",{children:[s.date," â€¢ ",s.readTime]}),c&&e.jsxs("span",{className:"readIndicator",children:["(Lido em ",L(c),")"]})]})]}),e.jsx("h3",{className:"postCardTitle",children:s.title}),e.jsxs("p",{className:"postCardSnippet",children:[s.content.replace(/[#`*!\[\]\(\)]/g,"").substring(0,150),"..."]}),e.jsx("div",{className:"postCardTags",children:s.tags.map(d=>e.jsxs("span",{className:"tagButton",children:["#",d]},d))}),e.jsxs("div",{className:"readMoreLink",children:["Ler artigo ",e.jsx(N,{size:16})]})]},s.id)}):e.jsxs("div",{className:"notFound",children:[e.jsx(y,{size:32}),e.jsx("p",{children:"Nenhum resultado encontrado."})]})})]})};export{w as default};
