import{r as x,u as b,j as s,L as k}from"./index-DCHFfLAB.js";import{B as w,C as A}from"./Badge-CAQ3G40p.js";import{S as $,D}from"./PostsList-BqE8ssiP.js";const j=5;function S(t){return t?t.replace(/#+\s/g,"").replace(/\*\*/g,"").replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`{3}[\s\S]*?`{3}/g,"").replace(/`/g,""):""}function v(t){if(!t)return"";try{const[u,r,i]=t.split("-"),c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],h=parseInt(r,10)-1,l=c[h]||"";return`${i} ${l} ${u}`}catch{return""}}const I=({posts:t,readPosts:u})=>{const[r,i]=x.useState(1),[c,h]=x.useState(""),l=b(),p=x.useMemo(()=>{i(1);const e=c.toLowerCase();return t.filter(a=>{const o=a.title||"",n=a.content||"",g=a.category||"",P=Array.isArray(a.tags)?a.tags:[];return o.toLowerCase().includes(e)||n.toLowerCase().includes(e)||g.toLowerCase().includes(e)||P.some(L=>(L||"").toLowerCase().includes(e))})},[t,c]),d=Math.ceil(p.length/j),C=(r-1)*j,N=p.slice(C,C+j),m=e=>{e>=1&&e<=d&&(i(e),window.scrollTo(0,0))},y=(e,a)=>{e.preventDefault(),e.stopPropagation(),l(`/category/${a}`)},f=(e,a)=>{e.preventDefault(),e.stopPropagation(),l(`/tag/${a}`)};return s.jsx("div",{className:"animate-fadeIn",children:s.jsxs("div",{children:[s.jsxs("div",{className:"postsHeader",children:[s.jsxs("h2",{children:[s.jsx("span",{children:"./"}),"Artigos & Pesquisa"]}),s.jsxs("div",{className:"searchBox",children:[s.jsx($,{className:"searchIcon",size:20}),s.jsx("input",{type:"text",placeholder:"Pesquisar por tecnologia...",value:c,onChange:e=>h(e.target.value),className:"searchInput"})]})]}),s.jsx("div",{className:"postsGrid",children:N.length>0?N.map((e,a)=>{const o=u[e.slug];return s.jsxs(k,{to:`/post/${e.slug}`,className:`postCard ${o?"isRead":""} animate-in`,style:{animationDelay:`${a*100}ms`},children:[s.jsx("div",{className:"postCardGlow"}),s.jsxs("div",{className:"postCardHeader",children:[s.jsx("button",{onClick:n=>y(n,e.category),className:"categoryBadgeButton",children:s.jsx(w,{children:(e.category||"").toUpperCase()})}),s.jsxs("div",{className:"postCardMeta",children:[s.jsxs("span",{children:[v(e.date)," • ",e.readTime]}),o&&s.jsxs("span",{className:"readIndicator",children:["(Lido em ",v(o),")"]})]})]}),s.jsx("h3",{className:"postCardTitle",children:e.title}),s.jsxs("p",{className:"postCardSnippet",children:[S(e.content).substring(0,150),"..."]}),s.jsx("div",{className:"postCardTags",children:Array.isArray(e.tags)&&e.tags.map(n=>s.jsxs("button",{onClick:g=>f(g,n),className:"tagButton",children:["#",n]},n))}),s.jsxs("div",{className:"readMoreLink",children:["Ler artigo ",s.jsx(A,{size:16})]})]},e.id)}):s.jsxs("div",{className:"notFound",children:[s.jsx(D,{size:32}),s.jsxs("p",{children:['Nenhum resultado encontrado para "',c,'".']})]})}),d>1&&s.jsxs("div",{className:"pagination",children:[s.jsx("button",{onClick:()=>m(r-1),disabled:r===1,children:"« Anterior"}),Array.from({length:d},(e,a)=>a+1).map(e=>s.jsx("button",{onClick:()=>m(e),className:r===e?"active":"",children:e},e)),s.jsx("button",{onClick:()=>m(r+1),disabled:r===d,children:"Próximo »"})]})]})})};export{I as default};
