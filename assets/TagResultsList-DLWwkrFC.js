import{r as i,j as e}from"./index-izwrhFUz.js";import{B as p,C}from"./Badge-DFHR0JWx.js";import{S as N,D as g}from"./PostsList-q0cpju3X.js";import{C as f}from"./TagResultsList-DZ-jYwXW.js";function L(r){if(!r)return"";try{const[a,d,l]=r.split("-");return`${l}/${d}/${a}`}catch{return""}}const z=({posts:r,activeTag:a,onBack:d,onSelectPost:l,onSelectTag:b,searchQuery:x,setSearchQuery:j,filterQuery:t,readPosts:u})=>{const[v,h]=i.useState(1),m=i.useMemo(()=>(h(1),r.filter(s=>s.tags.includes(a))),[r,a]),o=i.useMemo(()=>(h(1),m.filter(s=>s.title.toLowerCase().includes(t.toLowerCase())||s.content.toLowerCase().includes(t.toLowerCase())||s.category.toLowerCase().includes(t.toLowerCase()))),[m,t]);return e.jsxs("div",{className:"animate-fadeIn",children:[e.jsxs("div",{className:"tagHeader",children:[e.jsxs("button",{onClick:d,className:"tagHeaderButton",children:[e.jsx(f,{size:16}),"Voltar para todos os posts"]}),e.jsxs("h2",{children:[e.jsx("span",{children:"#"}),a]}),e.jsxs("p",{children:["Exibindo ",o.length," ",o.length===1?"artigo":"artigos"]}),e.jsxs("div",{className:"searchBox",children:[e.jsx(N,{className:"searchIcon",size:20}),e.jsx("input",{type:"text",placeholder:"Filtrar dentro da tag...",value:x,onChange:s=>j(s.target.value),className:"searchInput"})]})]}),e.jsx("div",{className:"postsGrid",children:o.length>0?o.map(s=>{const c=u[s.slug];return e.jsxs("article",{onClick:()=>l(s),className:`postCard ${c?"isRead":""}`,children:[e.jsx("div",{className:"postCardGlow"}),e.jsxs("div",{className:"postCardHeader",children:[e.jsx(p,{children:s.category.toUpperCase()}),e.jsxs("div",{className:"postCardMeta",children:[e.jsxs("span",{children:[s.date," â€¢ ",s.readTime]}),c&&e.jsxs("span",{className:"readIndicator",children:["(Lido em ",L(c),")"]})]})]}),e.jsx("h3",{className:"postCardTitle",children:s.title}),e.jsxs("p",{className:"postCardSnippet",children:[s.content.replace(/[#`*]/g,"").substring(0,150),"..."]}),e.jsx("div",{className:"postCardTags",children:s.tags.map(n=>e.jsxs("span",{className:"tagButton",style:{borderColor:n===a?"#a855f7":"#1e293b",color:n===a?"#ffffff":"#64748b",backgroundColor:n===a?"#1e293b":"transparent"},children:["#",n]},n))}),e.jsxs("div",{className:"readMoreLink",children:["Ler artigo ",e.jsx(C,{size:16})]})]},s.id)}):e.jsxs("div",{className:"notFound",children:[e.jsx(g,{size:32}),e.jsxs("p",{children:['Nenhum resultado encontrado para "',t,'".']})]})})]})};export{z as default};
